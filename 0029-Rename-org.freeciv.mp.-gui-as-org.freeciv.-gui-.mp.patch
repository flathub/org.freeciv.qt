From 62da49a8eeaa717841c927379fa922924fd25d56 Mon Sep 17 00:00:00 2001
From: Marko Lindqvist <cazfi74@gmail.com>
Date: Tue, 26 Sep 2023 08:39:32 +0300
Subject: [PATCH 29/29] Rename org.freeciv.mp.<gui> as org.freeciv.<gui>.mp

See osdn #48729

Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>
---
 bootstrap/Makefile.am                         | 24 +++++++++----------
 ...k3.desktop => org.freeciv.gtk3.mp.desktop} |  0
 ...in => org.freeciv.gtk3.mp.metainfo.xml.in} |  4 ++--
 ...k4.desktop => org.freeciv.gtk4.mp.desktop} |  0
 ...in => org.freeciv.gtk4.mp.metainfo.xml.in} |  4 ++--
 ...p.qt.desktop => org.freeciv.qt.mp.desktop} |  0
 ...l.in => org.freeciv.qt.mp.metainfo.xml.in} |  4 ++--
 flatpak/build_flatpak.sh                      |  8 +++----
 ...iv.mp.gtk3.yml => org.freeciv.gtk3.mp.yml} |  2 +-
 ...iv.mp.gtk4.yml => org.freeciv.gtk4.mp.yml} |  2 +-
 meson.build                                   | 12 +++++-----
 11 files changed, 30 insertions(+), 30 deletions(-)
 rename bootstrap/{org.freeciv.mp.gtk3.desktop => org.freeciv.gtk3.mp.desktop} (100%)
 rename bootstrap/{org.freeciv.mp.gtk3.metainfo.xml.in => org.freeciv.gtk3.mp.metainfo.xml.in} (94%)
 rename bootstrap/{org.freeciv.mp.gtk4.desktop => org.freeciv.gtk4.mp.desktop} (100%)
 rename bootstrap/{org.freeciv.mp.gtk4.metainfo.xml.in => org.freeciv.gtk4.mp.metainfo.xml.in} (94%)
 rename bootstrap/{org.freeciv.mp.qt.desktop => org.freeciv.qt.mp.desktop} (100%)
 rename bootstrap/{org.freeciv.mp.qt.metainfo.xml.in => org.freeciv.qt.mp.metainfo.xml.in} (94%)
 rename flatpak/{org.freeciv.mp.gtk3.yml => org.freeciv.gtk3.mp.yml} (95%)
 rename flatpak/{org.freeciv.mp.gtk4.yml => org.freeciv.gtk4.mp.yml} (94%)

diff --git a/bootstrap/Makefile.am b/bootstrap/Makefile.am
index d93c807621..1f100f2fba 100644
--- a/bootstrap/Makefile.am
+++ b/bootstrap/Makefile.am
@@ -27,9 +27,9 @@ EXTRA_DIST =	freeciv.project		\
 		org.freeciv.sdl2.desktop	\
 		org.freeciv.qt.desktop \
 		org.freeciv.server.desktop	\
-		org.freeciv.mp.gtk3.desktop	\
-		org.freeciv.mp.gtk4.desktop	\
-		org.freeciv.mp.qt.desktop	\
+		org.freeciv.gtk3.mp.desktop	\
+		org.freeciv.gtk4.mp.desktop	\
+		org.freeciv.qt.mp.desktop	\
 		org.freeciv.ruledit.desktop	\
 		org.freeciv.gtk3.metainfo.xml.in \
 		org.freeciv.gtk322.metainfo.xml.in \
@@ -37,9 +37,9 @@ EXTRA_DIST =	freeciv.project		\
 		org.freeciv.sdl2.metainfo.xml.in \
 		org.freeciv.qt.metainfo.xml.in \
 		org.freeciv.server.metainfo.xml.in \
-		org.freeciv.mp.gtk3.metainfo.xml.in \
-		org.freeciv.mp.gtk4.metainfo.xml.in \
-		org.freeciv.mp.qt.metainfo.xml.in \
+		org.freeciv.gtk3.mp.metainfo.xml.in \
+		org.freeciv.gtk4.mp.metainfo.xml.in \
+		org.freeciv.qt.mp.metainfo.xml.in \
 		org.freeciv.ruledit.metainfo.xml.in \
 		config.rpath		\
 		Makerules.mk		\
@@ -79,18 +79,18 @@ desktopfile_DATA  += org.freeciv.qt.desktop
 endif
 
 if MODINST_GTK3
-metainfofile_DATA += org.freeciv.mp.gtk3.metainfo.xml
-desktopfile_DATA  += org.freeciv.mp.gtk3.desktop
+metainfofile_DATA += org.freeciv.gtk3.mp.metainfo.xml
+desktopfile_DATA  += org.freeciv.gtk3.mp.desktop
 endif
 
 if MODINST_GTK4
-metainfofile_DATA += org.freeciv.mp.gtk4.metainfo.xml
-desktopfile_DATA  += org.freeciv.mp.gtk4.desktop
+metainfofile_DATA += org.freeciv.gtk4.mp.metainfo.xml
+desktopfile_DATA  += org.freeciv.gtk4.mp.desktop
 endif
 
 if MODINST_QT
-metainfofile_DATA += org.freeciv.mp.qt.metainfo.xml
-desktopfile_DATA  += org.freeciv.mp.qt.desktop
+metainfofile_DATA += org.freeciv.qt.mp.metainfo.xml
+desktopfile_DATA  += org.freeciv.qt.mp.desktop
 endif
 
 if RULEDIT
diff --git a/bootstrap/org.freeciv.mp.gtk3.desktop b/bootstrap/org.freeciv.gtk3.mp.desktop
similarity index 100%
rename from bootstrap/org.freeciv.mp.gtk3.desktop
rename to bootstrap/org.freeciv.gtk3.mp.desktop
diff --git a/bootstrap/org.freeciv.mp.gtk3.metainfo.xml.in b/bootstrap/org.freeciv.gtk3.mp.metainfo.xml.in
similarity index 94%
rename from bootstrap/org.freeciv.mp.gtk3.metainfo.xml.in
rename to bootstrap/org.freeciv.gtk3.mp.metainfo.xml.in
index 7a7ad972a3..3c5a87c82a 100644
--- a/bootstrap/org.freeciv.mp.gtk3.metainfo.xml.in
+++ b/bootstrap/org.freeciv.gtk3.mp.metainfo.xml.in
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <component type="desktop-application">
     <name>Freeciv gtk+-3 modpack installer</name>
-    <id>org.freeciv.mp.gtk3</id>
+    <id>org.freeciv.gtk3.mp</id>
     <project_license>GPL-2.0-or-later</project_license>
     <metadata_license>CC0</metadata_license>
     <summary>Gtk+-3 based modpack installer for the Freeciv game</summary>
@@ -14,7 +14,7 @@
             Freeciv modpack utility can be used to automatically download and install custom rulesets, tilesets, soundsets, and maps for freeciv to use.
         </p>
     </description>
-    <launchable type="desktop-id">org.freeciv.mp.gtk3.desktop</launchable>
+    <launchable type="desktop-id">org.freeciv.gtk3.mp.desktop</launchable>
 
     <url type="homepage">https://www.freeciv.org/</url>
     <url type="bugtracker">https://osdn.net/projects/freeciv/ticket/</url>
diff --git a/bootstrap/org.freeciv.mp.gtk4.desktop b/bootstrap/org.freeciv.gtk4.mp.desktop
similarity index 100%
rename from bootstrap/org.freeciv.mp.gtk4.desktop
rename to bootstrap/org.freeciv.gtk4.mp.desktop
diff --git a/bootstrap/org.freeciv.mp.gtk4.metainfo.xml.in b/bootstrap/org.freeciv.gtk4.mp.metainfo.xml.in
similarity index 94%
rename from bootstrap/org.freeciv.mp.gtk4.metainfo.xml.in
rename to bootstrap/org.freeciv.gtk4.mp.metainfo.xml.in
index b31e6fef5d..65f5c93d58 100644
--- a/bootstrap/org.freeciv.mp.gtk4.metainfo.xml.in
+++ b/bootstrap/org.freeciv.gtk4.mp.metainfo.xml.in
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <component type="desktop-application">
     <name>Freeciv gtk-4 modpack installer</name>
-    <id>org.freeciv.mp.gtk4</id>
+    <id>org.freeciv.gtk4.mp</id>
     <project_license>GPL-2.0-or-later</project_license>
     <metadata_license>CC0</metadata_license>
     <summary>Gtk-4 based modpack installer for the Freeciv game</summary>
@@ -14,7 +14,7 @@
             Freeciv modpack utility can be used to automatically download and install custom rulesets, tilesets, soundsets, and maps for freeciv to use.
         </p>
     </description>
-    <launchable type="desktop-id">org.freeciv.mp.gtk4.desktop</launchable>
+    <launchable type="desktop-id">org.freeciv.gtk4.mp.desktop</launchable>
 
     <url type="homepage">https://www.freeciv.org/</url>
     <url type="bugtracker">https://osdn.net/projects/freeciv/ticket/</url>
diff --git a/bootstrap/org.freeciv.mp.qt.desktop b/bootstrap/org.freeciv.qt.mp.desktop
similarity index 100%
rename from bootstrap/org.freeciv.mp.qt.desktop
rename to bootstrap/org.freeciv.qt.mp.desktop
diff --git a/bootstrap/org.freeciv.mp.qt.metainfo.xml.in b/bootstrap/org.freeciv.qt.mp.metainfo.xml.in
similarity index 94%
rename from bootstrap/org.freeciv.mp.qt.metainfo.xml.in
rename to bootstrap/org.freeciv.qt.mp.metainfo.xml.in
index 3ae473565b..6c433b16bc 100644
--- a/bootstrap/org.freeciv.mp.qt.metainfo.xml.in
+++ b/bootstrap/org.freeciv.qt.mp.metainfo.xml.in
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <component type="desktop-application">
     <name>Freeciv Qt modpack installer</name>
-    <id>org.freeciv.mp.qt</id>
+    <id>org.freeciv.qt.mp</id>
     <project_license>GPL-2.0-or-later</project_license>
     <metadata_license>CC0</metadata_license>
     <summary>Qt based modpack installer for the Freeciv game</summary>
@@ -14,7 +14,7 @@
             Freeciv modpack utility can be used to automatically download and install custom rulesets, tilesets, soundsets, and maps for freeciv to use.
         </p>
     </description>
-    <launchable type="desktop-id">org.freeciv.mp.qt.desktop</launchable>
+    <launchable type="desktop-id">org.freeciv.qt.mp.desktop</launchable>
 
     <url type="homepage">https://www.freeciv.org/</url>
     <url type="bugtracker">https://osdn.net/projects/freeciv/ticket/</url>
diff --git a/flatpak/build_flatpak.sh b/flatpak/build_flatpak.sh
index 3bec3e57f2..bbc9746a23 100755
--- a/flatpak/build_flatpak.sh
+++ b/flatpak/build_flatpak.sh
@@ -23,16 +23,16 @@ fi
 
 if ! flatpak-builder --user --repo=repo --force-clean build org.freeciv.gtk4.yml ||
    ! flatpak-builder --user --repo=repo --force-clean build org.freeciv.gtk322.yml ||
-   ! flatpak-builder --user --repo=repo --force-clean build org.freeciv.mp.gtk4.yml ||
-   ! flatpak-builder --user --repo=repo --force-clean build org.freeciv.mp.gtk3.yml ||
+   ! flatpak-builder --user --repo=repo --force-clean build org.freeciv.gtk4.mp.yml ||
+   ! flatpak-builder --user --repo=repo --force-clean build org.freeciv.gtk3.mp.yml ||
    ! flatpak-builder --user --repo=repo --force-clean build org.freeciv.qt.yml ||
    ! flatpak-builder --user --repo=repo --force-clean build org.freeciv.sdl2.yml ||
    ! flatpak-builder --user --repo=repo --force-clean build org.freeciv.ruledit.yml ||
    ! flatpak build-update-repo repo ||
    ! flatpak build-bundle repo "freeciv-gtk4-${FCVER}.flatpak" org.freeciv.gtk4 ||
    ! flatpak build-bundle repo "freeciv-gtk3.22-${FCVER}.flatpak" org.freeciv.gtk322 ||
-   ! flatpak build-bundle repo "freeciv-mp-gtk4-${FCVER}.flatpak" org.freeciv.mp.gtk4 ||
-   ! flatpak build-bundle repo "freeciv-mp-gtk3-${FCVER}.flatpak" org.freeciv.mp.gtk3 ||
+   ! flatpak build-bundle repo "freeciv-gtk4-mp-${FCVER}.flatpak" org.freeciv.gtk4.mp ||
+   ! flatpak build-bundle repo "freeciv-gtk3-mp-${FCVER}.flatpak" org.freeciv.gtk3.mp ||
    ! flatpak build-bundle repo "freeciv-qt-${FCVER}.flatpak" org.freeciv.qt ||
    ! flatpak build-bundle repo "freeciv-sdl2-${FCVER}.flatpak" org.freeciv.sdl2 ||
    ! flatpak build-bundle repo "freeciv-ruledit-${FCVER}.flatpak" org.freeciv.ruledit
diff --git a/flatpak/org.freeciv.mp.gtk3.yml b/flatpak/org.freeciv.gtk3.mp.yml
similarity index 95%
rename from flatpak/org.freeciv.mp.gtk3.yml
rename to flatpak/org.freeciv.gtk3.mp.yml
index f6eb7ee14f..ae4983ab76 100644
--- a/flatpak/org.freeciv.mp.gtk3.yml
+++ b/flatpak/org.freeciv.gtk3.mp.yml
@@ -1,4 +1,4 @@
-app-id: org.freeciv.mp.gtk3
+app-id: org.freeciv.gtk3.mp
 runtime: org.freedesktop.Platform
 runtime-version: '23.08'
 sdk: org.freedesktop.Sdk
diff --git a/flatpak/org.freeciv.mp.gtk4.yml b/flatpak/org.freeciv.gtk4.mp.yml
similarity index 94%
rename from flatpak/org.freeciv.mp.gtk4.yml
rename to flatpak/org.freeciv.gtk4.mp.yml
index 0f08844974..eec7d9f24e 100644
--- a/flatpak/org.freeciv.mp.gtk4.yml
+++ b/flatpak/org.freeciv.gtk4.mp.yml
@@ -1,4 +1,4 @@
-app-id: org.freeciv.mp.gtk4
+app-id: org.freeciv.gtk4.mp
 runtime: org.gnome.Platform
 runtime-version: '45'
 sdk: org.gnome.Sdk
diff --git a/meson.build b/meson.build
index 87b38eb1bb..03bcf65117 100644
--- a/meson.build
+++ b/meson.build
@@ -3469,12 +3469,12 @@ executable('freeciv-mp-gtk3',
   )
 
 install_data(
-  'bootstrap/org.freeciv.mp.gtk3.desktop',
+  'bootstrap/org.freeciv.gtk3.mp.desktop',
   install_dir : join_paths(get_option('prefix'), 'share/applications')
   )
 
 custom_target('mi_mp_gtk3',
-              input: 'bootstrap/org.freeciv.mp.gtk3.metainfo.xml.in',
+              input: 'bootstrap/org.freeciv.gtk3.mp.metainfo.xml.in',
               output: '@BASENAME@',
               command: [sh_exe, files('bootstrap/generate_metainfo.sh'),
                         '@OUTPUT@', b_root, 'development'],
@@ -3504,12 +3504,12 @@ executable('freeciv-mp-gtk4',
   )
 
 install_data(
-  'bootstrap/org.freeciv.mp.gtk4.desktop',
+  'bootstrap/org.freeciv.gtk4.mp.desktop',
   install_dir : join_paths(get_option('prefix'), 'share/applications')
   )
 
 custom_target('mi_mp_gtk4',
-              input: 'bootstrap/org.freeciv.mp.gtk4.metainfo.xml.in',
+              input: 'bootstrap/org.freeciv.gtk4.mp.metainfo.xml.in',
               output: '@BASENAME@',
               command: [sh_exe, files('bootstrap/generate_metainfo.sh'),
                         '@OUTPUT@', b_root, 'development'],
@@ -3546,12 +3546,12 @@ executable('freeciv-mp-qt',
   )
 
 install_data(
-  'bootstrap/org.freeciv.mp.qt.desktop',
+  'bootstrap/org.freeciv.qt.mp.desktop',
   install_dir : join_paths(get_option('prefix'), 'share/applications')
   )
 
 custom_target('mi_mp_qt',
-              input: 'bootstrap/org.freeciv.mp.qt.metainfo.xml.in',
+              input: 'bootstrap/org.freeciv.qt.mp.metainfo.xml.in',
               output: '@BASENAME@',
               command: [sh_exe, files('bootstrap/generate_metainfo.sh'),
                         '@OUTPUT@', b_root, 'development'],
-- 
2.40.1

